---
layout: post
title: "Jenkinså®‰è£…æ’ä»¶æé€Ÿ"
date: 2020-6-4
categories: è¿ç»´
tags: Jenkins
--- 


çœ‹åˆ°å¥½å¤šåŠ é€ŸJenkinså®‰è£…æ’ä»¶é€Ÿåº¦çš„æ–‡ç« ï¼Œå¤§å¤šæ•°æ•™ç¨‹ä¸­éƒ½æ˜¯åœ¨æ’ä»¶é…ç½®é‡Œä½¿ç”¨

https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json

æ›¿æ¢åŸæ¥çš„å®˜æ–¹çš„jsonï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ¸…åæºæ‹‰ä¸‹æ¥çš„æ˜¯ä»€ä¹ˆ è¿™é‡Œä½¿ç”¨å®˜æ–¹çš„ä¸‹è½½æ’ä»¶çš„urlå…¨å±€æœç´¢



è¿™é‡Œæˆ‘ä»¬å‘ç°ï¼Œæ¯ä¸ªæ’ä»¶ä¸‹è½½è·¯å¾„ä¾æ—§æ²¡æœ‰æ”¹å˜ï¼Œå˜çš„åªæ˜¯è¿™ä¸ªjsonæ˜¯ä»æ¸…åæºä¸‹æ¥çš„ï¼Œå…¶å†…å†™æ­»çš„æ’ä»¶ä¸‹è½½åœ°å€æ˜¯æ²¡æœ‰å˜çš„ï¼Œè¿˜æ˜¯ä»å®˜ç½‘ä¸‹è½½ï¼

æ‰€ä»¥æ— è®ºæ˜¯æ›´æ¢è¿˜æ˜¯æ²¡æ›´æ¢é•œåƒjsonï¼Œä¸‹è½½æ’ä»¶çš„é€Ÿåº¦å…¶å®æ˜¯æ²¡æœ‰å˜çš„ï¼è¿™çœŸæ˜¯ä»¤äººå¿ƒç—›ï¼ğŸ’”â€‹

æ‰€ä»¥æœ¬æ–‡çš„ç›®çš„åœ¨äºï¼šçœŸæ­£åŠ é€ŸJenkinså®‰è£…æ’ä»¶çš„é€Ÿåº¦ï¼Œå‡å°‘å¤±è´¥ç‡ï¼

æ“ä½œæ­¥éª¤
ä»¥ä¸Šçš„é…ç½®Jsonå…¶å®åœ¨Jenkinsçš„å·¥ä½œç›®å½•ä¸­

```
$ cd {ä½ çš„Jenkinså·¥ä½œç›®å½•}/updates  #è¿›å…¥æ›´æ–°é…ç½®ä½ç½®
```
ç¬¬ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨vim
```
$ vim default.json   #è¿™ä¸ªJsonæ–‡ä»¶ä¸ä¸Šè¾¹çš„é…ç½®æ–‡ä»¶æ˜¯ç›¸åŒçš„
```
è¿™é‡Œwikiå’Œgithubçš„æ–‡æ¡£ä¸ç”¨æ”¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æˆåŠŸä¿®æ”¹è¿™ä¸ªé…ç½®

ä½¿ç”¨vimçš„å‘½ä»¤ï¼Œå¦‚ä¸‹ï¼Œæ›¿æ¢æ‰€æœ‰æ’ä»¶ä¸‹è½½çš„url

```
:1,$s/http:\/\/updates.jenkins-ci.org\/download/https:\/\/mirrors.tuna.tsinghua.edu.cn\/jenkins/g
```

æ›¿æ¢è¿æ¥æµ‹è¯•url

```
:1,$s/http:\/\/www.google.com/https:\/\/www.baidu.com/g
```


`è¿›å…¥vimå…ˆè¾“å…¥ï¼šç„¶åå†ç²˜è´´ä¸Šè¾¹çš„ï¼šåè¾¹çš„å‘½ä»¤ï¼Œæ³¨æ„ä¸è¦å†™ä¸¤ä¸ªå†’å·ï¼`

ä¿®æ”¹å®Œæˆä¿å­˜é€€å‡º:wq

ç¬¬äºŒç§æ–¹å¼ï¼šä½¿ç”¨sed
```
$ sed -i 's/http:\/\/updates.jenkins-ci.org\/download/https:\/\/mirrors.tuna.tsinghua.edu.cn\/jenkins/g' default.json && sed -i 's/http:\/\/www.google.com/https:\/\/www.baidu.com/g' default.json
```

è¿™æ˜¯ç›´æ¥ä¿®æ”¹çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœå‰è¾¹Jenkinsç”¨sudoå¯åŠ¨çš„è¯ï¼Œé‚£ä¹ˆè¿™é‡Œçš„ä¸¤ä¸ªsedå‰å‡éœ€è¦åŠ ä¸Šsudo

é‡å¯Jenkinsï¼Œå®‰è£…æ’ä»¶è¯•è¯•ï¼Œç®€ç›´è¶…é€Ÿï¼ï¼